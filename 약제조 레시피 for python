import numpy as np

# 초기 조건 확인
def check_conditions(data):
    if not data['kidney_blood_flow_normal']:
        return "콩팥/달팽이관 혈류 이상"
    if not data['diencephalon_flow']:
        return "뇌수 흐름 방향 이상"
    return "정상"

# 혈류 시스템 검사
def check_circulatory_system(data):
    if not data['filtered_components']:
        return "간에서 여과된 성분이 췌장으로 전달되지 않음"
    if not data['hormone_levels']:
        return "대뇌 호르몬 이상"
    return "정상"

# 백혈구 및 적혈구 상태 확인
def check_blood_cells(data):
    if data['rbc_in_lung']:
        return "전도체 약물 권장"
    if data['wbc_mixed']:
        return "열전도율이 높은 액체 권장"
    if data['brain_reverse_flow']:
        return "억제제 및 소화제 권장"
    return "정상"

# 단위 벡터 유지 확인
def check_unit_vectors(data):
    vectors = data['unit_vectors']
    unit_vectors = [v / np.linalg.norm(v) for v in vectors]
    return np.allclose(unit_vectors[0], unit_vectors)

# 생식 관련 요소 확인
def check_reproductive_system(data):
    if not data['protein_intake']:
        return "동물성 단백질 섭취 필요"
    if data['rbc_wbc_ratio'] != 1:
        return "적혈구와 백혈구의 균형 이상"
    return "정상"

# 소화 및 영양 상태 확인
def check_digestion_nutrition(data):
    if not data['mineral_intake']:
        return "식물성 무기질 섭취 부족"
    return "정상"

# 재활 및 신경 관련 확인
def check_rehabilitation(data):
    if data['rehabilitation_needed']:
        return "10년 이상의 재활 필요"
    if data['neural_disorder']:
        return "신경계 문제 확인 필요"
    return "정상"

# 종합 검사 함수
def comprehensive_check(data):
    results = {
        "Initial Conditions": check_conditions(data),
        "Circulatory System": check_circulatory_system(data),
        "Blood Cells": check_blood_cells(data),
        "Unit Vector Consistency": check_unit_vectors(data),
        "Reproductive System": check_reproductive_system(data),
        "Digestion & Nutrition": check_digestion_nutrition(data),
        "Rehabilitation": check_rehabilitation(data)
    }
    return results

# 예제 데이터
patient_data = {
    'kidney_blood_flow_normal': True,
    'diencephalon_flow': True,
    'filtered_components': True,
    'hormone_levels': True,
    'rbc_in_lung': False,
    'wbc_mixed': False,
    'brain_reverse_flow': False,
    'unit_vectors': [np.array([1, 0]), np.array([1, 0])],
    'protein_intake': True,
    'rbc_wbc_ratio': 1,
    'mineral_intake': True,
    'rehabilitation_needed': False,
    'neural_disorder': False
}

# 결과 출력
results = comprehensive_check(patient_data)
for key, value in results.items():
    print(f"{key}: {value}")

